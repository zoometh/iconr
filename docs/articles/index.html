<!DOCTYPE html>
<!-- Generated by pkgdown: do not edit by hand --><html lang="en">
<head>
<meta http-equiv="Content-Type" content="text/html; charset=UTF-8">
<meta charset="utf-8">
<meta http-equiv="X-UA-Compatible" content="IE=edge">
<meta name="viewport" content="width=device-width, initial-scale=1.0">
<title>The ***iconr*** package <br> Graph Analysis of Prehistoric Iconography with R • iconr</title>
<!-- jquery --><script src="https://cdnjs.cloudflare.com/ajax/libs/jquery/3.4.1/jquery.min.js" integrity="sha256-CSXorXvZcTkaix6Yvo6HppcZGetbYMGWSFlBw8HfCJo=" crossorigin="anonymous"></script><!-- Bootstrap --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/css/bootstrap.min.css" integrity="sha256-bZLfwXAP04zRMK2BjiO8iu9pf4FbLqX6zitd+tIvLhE=" crossorigin="anonymous">
<script src="https://cdnjs.cloudflare.com/ajax/libs/twitter-bootstrap/3.4.1/js/bootstrap.min.js" integrity="sha256-nuL8/2cJ5NDSSwnKD8VqreErSWHtnEP9E7AySL+1ev4=" crossorigin="anonymous"></script><!-- bootstrap-toc --><link rel="stylesheet" href="../bootstrap-toc.css">
<script src="../bootstrap-toc.js"></script><!-- Font Awesome icons --><link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/all.min.css" integrity="sha256-mmgLkCYLUQbXn0B1SRqzHar6dCnv9oZFPEC1g1cwlkk=" crossorigin="anonymous">
<link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/5.12.1/css/v4-shims.min.css" integrity="sha256-wZjR52fzng1pJHwx4aV2AO3yyTOXrcDW7jBpJtTwVxw=" crossorigin="anonymous">
<!-- clipboard.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/clipboard.js/2.0.6/clipboard.min.js" integrity="sha256-inc5kl9MA1hkeYUt+EC3BhlIgyp/2jDIyBLS6k3UxPI=" crossorigin="anonymous"></script><!-- headroom.js --><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/headroom.min.js" integrity="sha256-AsUX4SJE1+yuDu5+mAVzJbuYNPHj/WroHuZ8Ir/CkE0=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/headroom/0.11.0/jQuery.headroom.min.js" integrity="sha256-ZX/yNShbjqsohH1k95liqY9Gd8uOiE1S4vZc+9KQ1K4=" crossorigin="anonymous"></script><!-- pkgdown --><link href="../pkgdown.css" rel="stylesheet">
<script src="../pkgdown.js"></script><meta property="og:title" content="The ***iconr*** package &lt;br&gt; Graph Analysis of Prehistoric Iconography with R">
<meta property="og:description" content="iconr">
<!-- mathjax --><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/MathJax.js" integrity="sha256-nvJJv9wWKEm88qvoQl9ekL2J+k/RWIsaSScxxlsrv8k=" crossorigin="anonymous"></script><script src="https://cdnjs.cloudflare.com/ajax/libs/mathjax/2.7.5/config/TeX-AMS-MML_HTMLorMML.js" integrity="sha256-84DKXVJXs0/F8OTMzX4UR909+jtl4G7SPypPavF+GfA=" crossorigin="anonymous"></script><!--[if lt IE 9]>
<script src="https://oss.maxcdn.com/html5shiv/3.7.3/html5shiv.min.js"></script>
<script src="https://oss.maxcdn.com/respond/1.4.2/respond.min.js"></script>
<![endif]-->
</head>
<body data-spy="scroll" data-target="#toc">
    <div class="container template-article">
      <header><div class="navbar navbar-default navbar-fixed-top" role="navigation">
  <div class="container">
    <div class="navbar-header">
      <button type="button" class="navbar-toggle collapsed" data-toggle="collapse" data-target="#navbar" aria-expanded="false">
        <span class="sr-only">Toggle navigation</span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
        <span class="icon-bar"></span>
      </button>
      <span class="navbar-brand">
        <a class="navbar-link" href="../index.html">iconr</a>
        <span class="version label label-default" data-toggle="tooltip" data-placement="bottom" title="Released version">0.1.0</span>
      </span>
    </div>

    <div id="navbar" class="navbar-collapse collapse">
      <ul class="nav navbar-nav">
<li>
  <a href="../index.html">
    <span class="fas fa-home fa-lg"></span>
     
  </a>
</li>
<li>
  <a href="../reference/index.html">Reference</a>
</li>
<li class="dropdown">
  <a href="#" class="dropdown-toggle" data-toggle="dropdown" role="button" aria-expanded="false">
    Articles
     
    <span class="caret"></span>
  </a>
  <ul class="dropdown-menu" role="menu">
<li>
      <a href="../articles/index.html">The ***iconr*** package &lt;br&gt; Graph Analysis of Prehistoric Iconography with R</a>
    </li>
  </ul>
</li>
<li>
  <a href="../news/index.html">Changelog</a>
</li>
      </ul>
<ul class="nav navbar-nav navbar-right">
<li>
  <a href="https://github.com/zoometh/iconr/">
    <span class="fab fa-github fa-lg"></span>
     
  </a>
</li>
      </ul>
</div>
<!--/.nav-collapse -->
  </div>
<!--/.container -->
</div>
<!--/.navbar -->

      

      </header><script src="index_files/header-attrs-2.6/header-attrs.js"></script><script src="index_files/kePrint-0.0.1/kePrint.js"></script><link href="index_files/lightable-0.0.1/lightable.css" rel="stylesheet">
<div class="row">
  <div class="col-md-9 contents">
    <div class="page-header toc-ignore">
      <h1 data-toc-skip>The <strong><em>iconr</em></strong> package <br> Graph Analysis of Prehistoric Iconography with R</h1>
                        <h4 class="author">Thomas Huet, Jose M Pozo, Craig Alexander</h4>
            
      
      <small class="dont-index">Source: <a href="https://github.com/zoometh/iconr/blob/master/vignettes/index.Rmd"><code>vignettes/index.Rmd</code></a></small>
      <div class="hidden name"><code>index.Rmd</code></div>

    </div>

    
    
<img src="data:image/png;base64,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" alt="logo" style="position:absolute; top:0; right:0; padding:10px;"><hr>
<style>
.figure {
   margin-top: 0px;
   margin-bottom: 20px;
}
table {
    margin-top: 0px;
    margin-bottom: 24px;
}
</style>
<p>The R package <code>iconr</code> is grounded in graph theory and spatial analysis. It offers concepts and functions for modeling Prehistoric iconographic compositions and for their preparation for further analysis (clustering, Harris diagram, etc.) in order to contribute to cross-cultural iconography comparison studies through a greater normalization of quantitative analysis <span class="citation">(Alexander 2008; Huet and Alexander 2015; Huet 2018)</span>.</p>
<center>
<div class="figure">
<img src="../../../../My%20PC%20(supernova-pc)/Documents/iconr/vignettes/img/solana_detail_256colours.png" width="220" alt=""><p class="caption">Detail of a Late Bronze Age stelae (Solana de Cabañas, Cáceres, Spain). Credits: Museo Arqueológico Nacional, Madrid</p>
</div>
</center>
<p>The flexibility of graph theory and tools available for the GIS database make the <code>iconr</code> package useful in managing, plotting and comparing (potentially large) sets of iconographic content: Atlantic rock-art, Scandinavian rock art, Late Bronze Age stelae, Mycenean figurative pottery, etc.</p>
<div id="decoration-graphs" class="section level1">
<h1 class="hasAnchor">
<a href="#decoration-graphs" class="anchor"></a>Decoration graphs</h1>
<p>The main principle of the <code>iconr</code> package is to consider any iconographic composition (here, ‘decoration’) as a geometric graph of graphical units (GUs). This geometric graph is also known as a planar graph or spatialized graph. The GUs are decorated surfaces (<code>POLYGONS</code>) modeled as nodes (<code>POINTS</code>). When these GUs are <em>main</em> nodes, and not <em>attribute</em> nodes, they share edges (<code>LINES</code>) with one another when their Voronoi cells share a border (<em>birel</em>: touches).</p>
<center>
<div class="figure">
<img src="../../../../My%20PC%20(supernova-pc)/Documents/iconr/vignettes/img/solana_voronoi_256colours.png" width="800" alt=""><p class="caption">GIS view. The Solana de Cabanas stelae: from its photograph to the modeling of its graphical content</p>
</div>
</center>
<p>Graph theory offers a conceptual framework and indices (global at the entire graph scale, local at the vertex scale) to deal with notions of networks, relationships and neighbourhoods. The geometric graph is commonly built within a GIS interface. Indeed, use of GIS allows one to create a spatial database of the decoration’s iconographic contents and facilitates data recording and visualization. For example, snapping options can connect GUs (nodes) with lines (edges) and we can exploit tools such as feature symbology, layer transparency, etc.</p>
<p>The latest development version of the <code>iconr</code> package and its vignette can be downloaded from GitHub</p>
<div class="sourceCode" id="cb1"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu">devtools</span><span class="fu">::</span><span class="fu"><a href="https://devtools.r-lib.org//reference/remote-reexports.html">install_github</a></span><span class="op">(</span><span class="st">"zoometh/iconr"</span>, build_vignettes<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p>The R package <code>iconr</code> is composed of <a href="#functions">functions</a> and a <a href="#data">example dataset</a>. The main R packages used by the <code>iconr</code> package are:</p>
<ul>
<li>
<a href="https://CRAN.R-project.org/package=magick">magick-image</a>: for drawing/image management</li>
<li>
<a href="https://CRAN.R-project.org/package=igraph">igraph</a>: for graph management</li>
<li>
<a href="https://CRAN.R-project.org/package=rgdal">rgdal</a>: for shapefile management</li>
</ul>
<p>Load the package <code>iconr</code></p>
<div class="sourceCode" id="cb2"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://zoometh.github.io/iconr/docs/">iconr</a></span><span class="op">)</span></code></pre></div>
</div>
<div id="data" class="section level1">
<h1 class="hasAnchor">
<a href="#data" class="anchor"></a>Dataset</h1>
<p>The input dataset is expected to include decoration images and corresponding node and edge data in a single data folder. This folder should include the following files:</p>
<ul>
<li>
<strong><a href="#decorations">Table of decorations</a>:</strong> A tabular file storing the set of decoration identifiers and corresponding image filenames.</li>
<li>
<strong><a href="#drawings">Images</a>:</strong> An image file for each decoration.</li>
<li>
<strong><a href="#nd">Node data</a>:</strong> A single file storing the data of each node for all decorations.</li>
<li>
<strong><a href="#ed">Edge data</a>:</strong> A single file storing the data of each edge for all decorations.</li>
</ul>
<p>The <code>iconr</code> package includes an example dataset with the input files in several alternative formats. The path for the example dataset is the package <em>extdata</em> folder. This folder is also – by default – the output folder. In order to differentiate input data from output data, the output data filenames always start with a digit or an underscore (ie, a punctuation). So, the input data are :</p>
<div class="sourceCode" id="cb3"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb3-1"><a href="#cb3-1" aria-hidden="true" tabindex="-1"></a>dataDir <span class="ot">&lt;-</span> <span class="fu">system.file</span>(<span class="st">"extdata"</span>, <span class="at">package =</span> <span class="st">"iconr"</span>)</span>
<span id="cb3-2"><a href="#cb3-2" aria-hidden="true" tabindex="-1"></a>input.files <span class="ot">&lt;-</span> <span class="fu">list.files</span>(dataDir)</span>
<span id="cb3-3"><a href="#cb3-3" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(input.files, <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb3-4"><a href="#cb3-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_1_3.pdf</span>
<span id="cb3-5"><a href="#cb3-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_1_4.jpg</span>
<span id="cb3-6"><a href="#cb3-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_1_4.pdf</span>
<span id="cb3-7"><a href="#cb3-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_2_3.png</span>
<span id="cb3-8"><a href="#cb3-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_2_4.png</span>
<span id="cb3-9"><a href="#cb3-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_3_4.pdf</span>
<span id="cb3-10"><a href="#cb3-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_3_4.png</span>
<span id="cb3-11"><a href="#cb3-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_eds_3_5.png</span>
<span id="cb3-12"><a href="#cb3-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_nds_1_4.png</span>
<span id="cb3-13"><a href="#cb3-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_nds_2_3.png</span>
<span id="cb3-14"><a href="#cb3-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_nds_2_4.png</span>
<span id="cb3-15"><a href="#cb3-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_nds_3_4.png</span>
<span id="cb3-16"><a href="#cb3-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> _compar_nds_3_5.png</span>
<span id="cb3-17"><a href="#cb3-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> 3_Brozas_Brozas_id.jpg</span>
<span id="cb3-18"><a href="#cb3-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Brozas.Brozas.jpg</span>
<span id="cb3-19"><a href="#cb3-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Cerro_Muriano.Cerro_Muriano_1.jpg</span>
<span id="cb3-20"><a href="#cb3-20" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> edges.csv</span>
<span id="cb3-21"><a href="#cb3-21" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> edges.dbf</span>
<span id="cb3-22"><a href="#cb3-22" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> edges.shp</span>
<span id="cb3-23"><a href="#cb3-23" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> edges.shx</span>
<span id="cb3-24"><a href="#cb3-24" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> edges.tsv</span>
<span id="cb3-25"><a href="#cb3-25" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Ibahernando.Ibahernando.jpg</span>
<span id="cb3-26"><a href="#cb3-26" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> imgs.csv</span>
<span id="cb3-27"><a href="#cb3-27" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> imgs.tsv</span>
<span id="cb3-28"><a href="#cb3-28" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nodes.csv</span>
<span id="cb3-29"><a href="#cb3-29" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nodes.dbf</span>
<span id="cb3-30"><a href="#cb3-30" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nodes.shp</span>
<span id="cb3-31"><a href="#cb3-31" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nodes.shx</span>
<span id="cb3-32"><a href="#cb3-32" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nodes.tsv</span>
<span id="cb3-33"><a href="#cb3-33" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Torrejon_Rubio.Torrejon_Rubio_1.jpg</span>
<span id="cb3-34"><a href="#cb3-34" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> Zarza_de_Montanchez.Zarza_De_Montanchez.jpg</span></code></pre></div>
<p>The table of decorations is given in two formats: comma- or semicolon-separated values (<code>imgs.csv</code>) and tab-separated value (<code>imgs.tsv</code>).</p>
<div class="sourceCode" id="cb4"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">imgs_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/imgs.csv"</span><span class="op">)</span>
<span class="va">imgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">imgs_path</span>, sep<span class="op">=</span><span class="st">";"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>Each decoration is identified by its name (column <code>decor</code>) and the name of the site (column <code>site</code>) to which it belongs. In the example dataset, this is transparent in the name of each decoration image, included in jpg format. Any other image format supported by the R package <code>magick</code> (jpg, png, tiff, pdf, etc.) is suitable.</p>
<p>As we have stated, a GIS interface is often the most practical way to record graph nodes and graph edges with <code>POINTS</code> and <code>LINES</code> geometries, respectively. This is typically saved in shapefile (shp) format, which is composed of at least 3 files with extensions <code>.shp</code> (geometries), <code>.shx</code> (indices), and <code>dbf</code> (attribute data). The example dataset includes them for nodes and edges separately, with obvious names:</p>
<div class="sourceCode" id="cb5"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nodes_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/nodes.shp"</span><span class="op">)</span>
<span class="va">nodes.shp</span> <span class="op">&lt;-</span> <span class="fu">rgdal</span><span class="fu">::</span><span class="fu"><a href="http://rgdal.r-forge.r-project.org/reference/readOGR.html">readOGR</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="va">nodes_path</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">nodes.shp</span><span class="op">)</span>
<span class="va">edges_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/edges.shp"</span><span class="op">)</span>
<span class="va">edges.shp</span> <span class="op">&lt;-</span> <span class="fu">rgdal</span><span class="fu">::</span><span class="fu"><a href="http://rgdal.r-forge.r-project.org/reference/readOGR.html">readOGR</a></span><span class="op">(</span>dsn <span class="op">=</span> <span class="va">edges_path</span>, verbose <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="va">edges.shp</span><span class="op">)</span></code></pre></div>
<p>Nodes and edges can also be recorded in tabular format: <code>.csv</code> or <code>.tsv</code>.</p>
<div class="sourceCode" id="cb6"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nodes_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/nodes.tsv"</span><span class="op">)</span>
<span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">nodes_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">edges_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/edges.tsv"</span><span class="op">)</span>
<span class="va">edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">edges_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span></code></pre></div>
<p>The list of graph decorations is created with the <code><a href="../reference/list_dec.html">list_dec()</a></code> function. These graphs are <code>igraph</code> objects</p>
<div class="sourceCode" id="cb7"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb7-1"><a href="#cb7-1" aria-hidden="true" tabindex="-1"></a>lgrph <span class="ot">&lt;-</span> <span class="fu">list_dec</span>(imgs, nodes, edges)</span>
<span id="cb7-2"><a href="#cb7-2" aria-hidden="true" tabindex="-1"></a>g <span class="ot">&lt;-</span> lgrph[[<span class="dv">1</span>]]</span>
<span id="cb7-3"><a href="#cb7-3" aria-hidden="true" tabindex="-1"></a><span class="fu">as.character</span>(<span class="fu">class</span>(g))</span>
<span id="cb7-4"><a href="#cb7-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">"igraph"</span></span></code></pre></div>
<p>By default, the <code>plot.igraph()</code> function (ie, <code>igraph::plot()</code>) spatialization (<code>layout</code>) is based on <code>x</code> and <code>y</code> columns, when these exist. This is appropriate in our case since we are working with geometric graphs. If this spatialization (node coordinates) is ignored, then very different layouts are possible for the same graph (<em>graph drawing</em>):</p>
<div class="sourceCode" id="cb8"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>           
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">0</span>, <span class="fl">2</span>, <span class="fl">0</span><span class="op">)</span>, mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span>, cex.main <span class="op">=</span> <span class="fl">0.9</span>, font.main <span class="op">=</span> <span class="fl">1</span><span class="op">)</span>
<span class="va">coords</span> <span class="op">&lt;-</span> <span class="fu">layout.fruchterman.reingold</span><span class="op">(</span><span class="va">lgrph</span><span class="op">[[</span><span class="fl">1</span><span class="op">]</span><span class="op">]</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">g</span>,
     vertex.size <span class="op">=</span> <span class="fl">15</span>,
     vertex.frame.color<span class="op">=</span><span class="st">"white"</span>,
     vertex.label.family <span class="op">=</span> <span class="st">"sans"</span>,
     vertex.label.cex <span class="op">=</span> <span class="fl">.8</span>,
     main <span class="op">=</span> <span class="st">"Graph drawing based on x, y coordinates"</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">g</span>,
     layout <span class="op">=</span> <span class="fu">layout.fruchterman.reingold</span><span class="op">(</span><span class="va">g</span><span class="op">)</span>,
     vertex.size <span class="op">=</span> <span class="fl">5</span> <span class="op">+</span> <span class="fu">degree</span><span class="op">(</span><span class="va">g</span><span class="op">)</span><span class="op">*</span><span class="fl">10</span>,
     vertex.frame.color<span class="op">=</span><span class="st">"white"</span>,
     vertex.label.family <span class="op">=</span> <span class="st">"sans"</span>,
     vertex.label.cex <span class="op">=</span> <span class="fl">.8</span>,
     main <span class="op">=</span> <span class="st">"Force-directed graph drawing,\nwith degree-dependent node size."</span>
<span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/mtext.html">mtext</a></span><span class="op">(</span><span class="va">g</span><span class="op">$</span><span class="va">decor</span>, cex <span class="op">=</span> <span class="fl">1</span>, side <span class="op">=</span> <span class="fl">1</span>, line <span class="op">=</span> <span class="op">-</span><span class="fl">1</span>, outer <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/igraph.1-1.png" width="624" style="display: block; margin: auto;"></p>
<div id="decorations" class="section level2">
<h2 class="hasAnchor">
<a href="#decorations" class="anchor"></a>Table of decorations</h2>
<p>In any compatible file format readable by R, such as comma-separated values (csv) or tabular-separated values (tsv). Decorations identifiers and decorations image filenames are stored in a dataframe, by default the <code>imgs</code> dataframe:</p>
<div class="sourceCode" id="cb9"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">imgs_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/imgs.tsv"</span><span class="op">)</span>
<span class="va">imgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">imgs_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">imgs</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"center"</span>, font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:right;">
idf
</th>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
decor
</th>
<th style="text-align:left;">
img
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:left;">
Cerro_Muriano.Cerro_Muriano_1.jpg
</td>
</tr>
<tr>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
Torrejon Rubio
</td>
<td style="text-align:left;">
Torrejon Rubio 1
</td>
<td style="text-align:left;">
Torrejon_Rubio.Torrejon_Rubio_1.jpg
</td>
</tr>
<tr>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
Brozas
</td>
<td style="text-align:left;">
Brozas
</td>
<td style="text-align:left;">
Brozas.Brozas.jpg
</td>
</tr>
<tr>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
Zarza de Montanchez
</td>
<td style="text-align:left;">
Zarza De Montanchez
</td>
<td style="text-align:left;">
Zarza_de_Montanchez.Zarza_De_Montanchez.jpg
</td>
</tr>
<tr>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
Ibahernando
</td>
<td style="text-align:left;">
Ibahernando
</td>
<td style="text-align:left;">
Ibahernando.Ibahernando.jpg
</td>
</tr>
</tbody>
</table>
<p>The decoration’s unique identifiers are the concatenation of the site name and the decoration name. For example, the name of the Cerrano Muriano 1 decoration is: <code>Cerro_Muriano.Cerro_Muriano_1.jpg</code>.</p>
</div>
<div id="drawings" class="section level2">
<h2 class="hasAnchor">
<a href="#drawings" class="anchor"></a>Images</h2>
<p>Image or drawing (eg, bitmap images, rasters, grids) formats accepted are the common ones (jpg, png, jpeg, tiff, pdf, etc.). The images in the current example dataset come from a PhD thesis, published by M. Diaz-Guardamino <span class="citation">(Dı́az-Guardamino Uribe 2010)</span>.</p>
<p>For a given decoration, its image is the reference space of the graph: nodes and edges inherit their coordinates from this image. However, different image or graphic systems use different coordinate conventions. The following table illustrates some of the most relevant ones:</p>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
Device/Package
</th>
<th style="text-align:left;">
Unit of measure
</th>
<th style="text-align:left;">
Origin
</th>
<th style="text-align:left;">
x-axis orientation
</th>
<th style="text-align:left;">
y-axis orientation
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
<em>R graphics</em>
</td>
<td style="text-align:left;">
number of pixels
</td>
<td style="text-align:left;">
bottom-left corner
</td>
<td style="text-align:left;">
rightward
</td>
<td style="text-align:left;">
upward
</td>
</tr>
<tr>
<td style="text-align:left;">
<em>R raster</em>
</td>
<td style="text-align:left;">
number of pixels
</td>
<td style="text-align:left;">
top-left corner
</td>
<td style="text-align:left;">
downward
</td>
<td style="text-align:left;">
rightward
</td>
</tr>
<tr>
<td style="text-align:left;">
<em>R magick</em>
</td>
<td style="text-align:left;">
number of pixels
</td>
<td style="text-align:left;">
top-left corner
</td>
<td style="text-align:left;">
rightward
</td>
<td style="text-align:left;">
downward
</td>
</tr>
<tr>
<td style="text-align:left;">
<strong><em>GIS interface</em></strong>
</td>
<td style="text-align:left;">
<strong>number of pixels</strong>
</td>
<td style="text-align:left;">
<strong>top-left corner</strong>
</td>
<td style="text-align:left;">
<strong>rightward</strong>
</td>
<td style="text-align:left;">
<strong>upward</strong>
</td>
</tr>
</tbody>
</table>
<p>The package <code>iconr</code> follows the coordinate conventions of the GIS interface. This is in agreement with our advice above to use the GIS as the preferred interface to extract nodes and edges from the decoration image. Observe that the y-axis is oriented upwards from the top-left corner, which implies that y-coordinates are always negative in the image (ie, downwards). The following image illustrates a decoration with the <code>iconr</code> (GIS) coordinates for the four corners. Note the contrast with the coordinates in the code generating it with the standard graphics package.</p>
<div class="sourceCode" id="cb10"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://docs.ropensci.org/magick/">magick</a></span><span class="op">)</span>
<span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va">graphics</span><span class="op">)</span>
<span class="va">dataDir</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/system.file.html">system.file</a></span><span class="op">(</span><span class="st">"extdata"</span>, package <span class="op">=</span> <span class="st">"iconr"</span><span class="op">)</span>
<span class="va">imgs_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/imgs.csv"</span><span class="op">)</span>
<span class="va">imgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">imgs_path</span>, sep<span class="op">=</span><span class="st">";"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">cm1</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/magick/reference/editing.html">image_read</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/"</span>, <span class="va">imgs</span><span class="op">$</span><span class="va">img</span><span class="op">[</span><span class="fl">1</span><span class="op">]</span><span class="op">)</span><span class="op">)</span>
<span class="va">W</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/magick/reference/attributes.html">image_info</a></span><span class="op">(</span><span class="va">cm1</span><span class="op">)</span><span class="op">$</span><span class="va">width</span>
<span class="va">H</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://docs.ropensci.org/magick/reference/attributes.html">image_info</a></span><span class="op">(</span><span class="va">cm1</span><span class="op">)</span><span class="op">$</span><span class="va">height</span>
<span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>   
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>            
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">cm1</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/box.html">box</a></span><span class="op">(</span>lwd <span class="op">=</span> <span class="fl">2</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="fl">0</span>, <span class="va">H</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">","</span>, <span class="fl">0</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">2</span>, adj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">1.1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="va">W</span>, <span class="va">H</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">W</span>, <span class="st">","</span>, <span class="fl">0</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">2</span>, adj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">1.1</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fl">0</span>, <span class="st">","</span>, <span class="op">-</span><span class="va">H</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">2</span>, adj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="op">-</span><span class="fl">0.2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/text.html">text</a></span><span class="op">(</span><span class="va">W</span>, <span class="fl">0</span>, <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">W</span>, <span class="st">","</span>, <span class="op">-</span><span class="va">H</span><span class="op">)</span>, cex <span class="op">=</span> <span class="fl">2</span>, adj <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="op">-</span><span class="fl">0.2</span><span class="op">)</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/drawing-1.png" alt="\label{fig:figs} `iconr` (GIS) coordinate convention: decoration `Cerro_Muriano.Cerro_Muriano_1.jpg` with the coordinates of its corners." width="50%"><p class="caption">
 <code>iconr</code> (GIS) coordinate convention: decoration <code>Cerro_Muriano.Cerro_Muriano_1.jpg</code> with the coordinates of its corners.
</p>
</div>
</div>
<div id="nd" class="section level2">
<h2 class="hasAnchor">
<a href="#nd" class="anchor"></a>Node data</h2>
<p>Nodes can be stored in any of the following formats: comma-separated values (<code>.csv</code>), tab-separated values (<code>.tsv</code>), or shapefile (<code>.shp</code>). Any of these formats is consistenly read by the function <code><a href="../reference/read_nds.html">iconr::read_nds()</a></code> generating a data.frame with the node data. For the generic csv and tsv formats, at least the following five columns are required to be included:</p>
<ul>
<li>
<strong>site</strong>: decoration site</li>
<li>
<strong>decor</strong>: decoration name</li>
<li>
<strong>id</strong>: id uniquelly identifying each node</li>
<li>
<strong>x</strong>: x-coordinate of nodes</li>
<li>
<strong>y</strong>: y-coordinate of nodes</li>
</ul>
<p>Additional columns can be included providing relevant characteristics of each node. The example dataset includes the column:</p>
<ul>
<li>
<strong>type</strong>: type of GU (ie, what it represents)</li>
</ul>
<p>These node characteristics can then be used for image annotations, decoration comparisons and decoration analysis. Nodes attributes coming from the GIS interface:</p>
<div class="sourceCode" id="cb11"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span>site <span class="op">=</span> <span class="st">"Cerro Muriano"</span>, decor <span class="op">=</span> <span class="st">"Cerro Muriano 1"</span>, dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span> 
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="st">"html"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"center"</span>, font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
decor
</th>
<th style="text-align:right;">
id
</th>
<th style="text-align:left;">
type
</th>
<th style="text-align:right;">
x
</th>
<th style="text-align:right;">
y
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
1
</td>
<td style="text-align:left;">
personnage
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
2
</td>
<td style="text-align:left;">
casque
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-243.9851
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
3
</td>
<td style="text-align:left;">
lance
</td>
<td style="text-align:right;">
238.4637
</td>
<td style="text-align:right;">
-298.3244
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
4
</td>
<td style="text-align:left;">
bouclier
</td>
<td style="text-align:right;">
446.0222
</td>
<td style="text-align:right;">
-381.1697
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
5
</td>
<td style="text-align:left;">
peigne
</td>
<td style="text-align:right;">
283.0041
</td>
<td style="text-align:right;">
-358.0086
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
7
</td>
<td style="text-align:left;">
sexe_masculin
</td>
<td style="text-align:right;">
342.6884
</td>
<td style="text-align:right;">
-427.4917
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:right;">
8
</td>
<td style="text-align:left;">
lingot_pdb
</td>
<td style="text-align:right;">
451.1489
</td>
<td style="text-align:right;">
-237.4782
</td>
</tr>
</tbody>
</table>
<p>In principle, the nodes are defined to be located at the exact centroids of each GU. However, for practical reasons, they can also be manually located close to these centroids.</p>
<div id="nd-type" class="section level3">
<h3 class="hasAnchor">
<a href="#nd-type" class="anchor"></a>Nodes types</h3>
<p>Nodes can be <em>main</em> nodes or <em>attribute</em> nodes depending on the type of edges they share with other nodes (see <a href="#ed.type">edge types</a>). For example, considering the Cerro Muriano 1 stelae:</p>
<ul>
<li><p><strong>main nodes</strong>: the anthropomorphic figure, the spear, the shield, the comb and the ingot can be considered as <em>main</em> nodes because they are separated and they show different graphical contents.</p></li>
<li><p><strong>attribute nodes</strong>: the helmet and the male sex of the antropomorphic figure can be considered as <em>attribute</em> nodes of the anthropomorphic figure because they are characteristic features of this latter.</p></li>
</ul>
</div>
</div>
<div id="ed" class="section level2">
<h2 class="hasAnchor">
<a href="#ed" class="anchor"></a>Edge data</h2>
<p>Edges can be stored in the same three formats as nodes: csv, tsv, or shp. At least the following five columns or variables are required to be included:</p>
<ul>
<li>
<strong>site</strong>: decoration site</li>
<li>
<strong>decor</strong>: decoration name</li>
<li>
<strong>a</strong>: <em>id</em> of the first <a href="#nd">node</a> of each edge</li>
<li>
<strong>b</strong>: <em>id</em> of the second <a href="#nd">node</a> of each edge</li>
<li>
<strong>type</strong>: <a href="#ed.type">edge types</a>
</li>
</ul>
<p>These columns can be seen in the example dataset:</p>
<div class="sourceCode" id="cb12"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">edges_path</span>, sep <span class="op">=</span> <span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">edges</span><span class="op">)</span>, <span class="st">"html"</span>, align <span class="op">=</span> <span class="st">"llccc"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"center"</span>,
                            font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"\\+"</span>, <span class="st">"$+$"</span>, <span class="va">.</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
decor
</th>
<th style="text-align:center;">
a
</th>
<th style="text-align:center;">
b
</th>
<th style="text-align:center;">
type
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
=
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
=
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
=
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
<span class="math inline">\(+\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
<span class="math inline">\(+\)</span>
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
=
</td>
</tr>
</tbody>
</table>
<p>Analogously to nodes, any of these formats is consistently read by the function <code><a href="../reference/read_eds.html">iconr::read_eds()</a></code> generating a data.frame with the edges data. Additionally, this function includes columns with the coordinates of the edge nodes:</p>
<ul>
<li>
<strong>xa</strong>: x-coordinate of the first node of each edge</li>
<li>
<strong>ya</strong>: y-coordinate of the first node of each edge</li>
<li>
<strong>xb</strong>: x-coordinate of the second node of each edge</li>
<li>
<strong>yb</strong>: y-coordinate of the second node of each edge</li>
</ul>
<p>Those coordinates are imported from the <code>x</code> and <code>y</code> coordinates in the corresponding <a href="#nd">node</a> file, identified by the node <code>id</code> as stated in the edge fields <code>a</code> and <code>b</code>, respectively.</p>
<div class="sourceCode" id="cb13"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span>site <span class="op">=</span> <span class="st">"Cerro Muriano"</span>, decor <span class="op">=</span> <span class="st">"Cerro Muriano 1"</span>, dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span> 
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">eds.df</span><span class="op">)</span>, <span class="st">"html"</span>, align <span class="op">=</span> <span class="st">"llcccrrrr"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"center"</span>, font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="https://rdrr.io/r/base/grep.html">gsub</a></span><span class="op">(</span><span class="st">"\\+"</span>, <span class="st">"$+$"</span>, <span class="va">.</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
site
</th>
<th style="text-align:left;">
decor
</th>
<th style="text-align:center;">
a
</th>
<th style="text-align:center;">
b
</th>
<th style="text-align:center;">
type
</th>
<th style="text-align:right;">
xa
</th>
<th style="text-align:right;">
ya
</th>
<th style="text-align:right;">
xb
</th>
<th style="text-align:right;">
yb
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
4
</td>
<td style="text-align:center;">
=
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
446.0222
</td>
<td style="text-align:right;">
-381.1697
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
=
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
283.0041
</td>
<td style="text-align:right;">
-358.0086
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
5
</td>
<td style="text-align:center;">
=
</td>
<td style="text-align:right;">
238.4637
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
283.0041
</td>
<td style="text-align:right;">
-358.0086
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
2
</td>
<td style="text-align:center;">
<span class="math inline">\(+\)</span>
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-243.9851
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
7
</td>
<td style="text-align:center;">
<span class="math inline">\(+\)</span>
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
342.6884
</td>
<td style="text-align:right;">
-427.4917
</td>
</tr>
<tr>
<td style="text-align:left;">
Cerro Muriano
</td>
<td style="text-align:left;">
Cerro Muriano 1
</td>
<td style="text-align:center;">
3
</td>
<td style="text-align:center;">
1
</td>
<td style="text-align:center;">
=
</td>
<td style="text-align:right;">
238.4637
</td>
<td style="text-align:right;">
-298.3244
</td>
<td style="text-align:right;">
349.8148
</td>
<td style="text-align:right;">
-298.3244
</td>
</tr>
</tbody>
</table>
<p><strong>column names</strong></p>
<ul>
<li>
<p><code>type</code> : <a href="#ed.type">edges types</a></p>
<ul>
<li><p><code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> : <em>normal</em> edges between contiguous and contemporaneous <em>main</em> nodes (undirected edge)</p></li>
<li><p><code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> : <em>attribute</em> edges, between contemporaneous nodes where the <em>attribute</em> node <code>b</code> is an attribute of <em>main</em> node <code>a</code> (directed edge)</p></li>
<li><p><code><a href="https://rdrr.io/r/base/Comparison.html">&gt;</a></code> : <em>diachronic</em> edges, between non-contemporaneous nodes where the node <code>a</code> overlaps node <code>b</code>, or node <code>a</code> is more ancient than node <code>b</code> (directed edge)</p></li>
</ul>
</li>
<li><p><code>xa, ya</code>: coordinates of the <em>starting</em> node, or <em>main</em> node, or <em>overlapping</em> node, or <em>more recent</em> node (<code>a</code>)</p></li>
<li><p><code>xb, yb</code>: coordinates of the <em>ending</em> node, or <em>attribute</em> node, or <em>overlapped</em> node, , or <em>more ancient</em> node (<code>b</code>)</p></li>
</ul>
<div id="ed-type" class="section level3">
<h3 class="hasAnchor">
<a href="#ed-type" class="anchor"></a>Edge types</h3>
<p>Graph theory says that edges can be undirected or directed. In the <code>iconr</code> package, by default:</p>
<ul>
<li><p>all contemporaneous nodes have <a href="#ed.type.norm"><em>normal</em> edges</a> or <a href="#ed.type.attrib"><em>attribute</em> edges</a> edges displayed in <span style="color:orange"><b>orange</b></span></p></li>
<li><p>all non-contemporaneous nodes have <a href="#ed.type.over"><em>diachronic</em> edges</a> displayed in <span style="color:blue"><b>blue</b></span> edges (see <a href="#contemp">contemporaneous nodes</a>)</p></li>
</ul>
<p>The <code><a href="../reference/named_elements.html">named_elements()</a></code> function allows one to display the textual notation of the different types of edges (<code>-=-</code>, <code>-+-</code> or <code>-&gt;-</code>)</p>
<div class="sourceCode" id="cb14"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb14-1"><a href="#cb14-1" aria-hidden="true" tabindex="-1"></a><span class="fu">named_elements</span>(lgrph[[<span class="dv">1</span>]], <span class="at">focus =</span> <span class="st">"edges"</span>, <span class="at">nd.var=</span><span class="st">"type"</span>)[<span class="dv">1</span>]      </span>
<span id="cb14-2"><a href="#cb14-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">"bouclier-=-personnage"</span></span></code></pre></div>
<p>When there are nodes with the same <code>nd.var</code>, this function adds the suffix <code>#</code> to the <code>nd.var</code> in order to disambiguate the node list. This is the case, for example, for the <code>chariot_char-+-cheval</code> (x2) and <code>chariot_char-+-roue</code> (x2) edges of the Zarza de Montanchez stelae (decoration 4)</p>
<div class="sourceCode" id="cb15"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb15-1"><a href="#cb15-1" aria-hidden="true" tabindex="-1"></a><span class="fu">named_elements</span>(lgrph[[<span class="dv">4</span>]], <span class="at">focus =</span> <span class="st">"edges"</span>, <span class="at">nd.var=</span><span class="st">"type"</span>)</span>
<span id="cb15-2"><a href="#cb15-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="st">"casque-=-epee"</span>             <span class="st">"casque-=-miroir"</span>          </span>
<span id="cb15-3"><a href="#cb15-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">3</span>] <span class="st">"epee-=-lance"</span>              <span class="st">"epee-=-miroir"</span>            </span>
<span id="cb15-4"><a href="#cb15-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">5</span>] <span class="st">"bouclier-=-lance"</span>          <span class="st">"lance-=-personnage"</span>       </span>
<span id="cb15-5"><a href="#cb15-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">7</span>] <span class="st">"bouclier-=-personnage"</span>     <span class="st">"chariot_char-+-cheval"</span>    </span>
<span id="cb15-6"><a href="#cb15-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">9</span>] <span class="st">"chariot_char-+-cheval#"</span>    <span class="st">"chariot_char-+-roue"</span>      </span>
<span id="cb15-7"><a href="#cb15-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">11</span>] <span class="st">"chariot_char-+-roue#"</span>      <span class="st">"bouclier-=-chariot_char"</span>  </span>
<span id="cb15-8"><a href="#cb15-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">13</span>] <span class="st">"chariot_char-=-personnage"</span> <span class="st">"casque-+-rivet"</span></span></code></pre></div>
<p>Employed with the basic R functions for loop (<code><a href="https://rdrr.io/r/base/lapply.html">lapply()</a></code>), count (<code><a href="https://rdrr.io/r/base/table.html">table()</a></code>) and order (<code><a href="https://rdrr.io/r/base/order.html">order()</a></code>), and removing the the suffix <code>#</code>, this function can be used to count the different types of edge. Here, we enumerate the most represented types of the example dataset:</p>
<div class="sourceCode" id="cb16"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">all.edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/unlist.html">unlist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/lapply.html">lapply</a></span><span class="op">(</span><span class="va">lgrph</span>, <span class="va">named_elements</span>, 
                           focus <span class="op">=</span> <span class="st">"edges"</span>, nd.var<span class="op">=</span><span class="st">"type"</span>, disamb.marker<span class="op">=</span><span class="st">""</span><span class="op">)</span><span class="op">)</span>
<span class="va">edges.count</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/as.data.frame.html">as.data.frame</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/table.html">table</a></span><span class="op">(</span><span class="va">all.edges</span><span class="op">)</span><span class="op">)</span>
<span class="va">edges.order</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/order.html">order</a></span><span class="op">(</span><span class="va">edges.count</span><span class="op">$</span><span class="va">Freq</span>, decreasing <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="va">edges.count</span> <span class="op">&lt;-</span> <span class="va">edges.count</span><span class="op">[</span><span class="va">edges.order</span>, <span class="op">]</span> 
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/utils/head.html">head</a></span><span class="op">(</span><span class="va">edges.count</span><span class="op">)</span>, row.names <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>full_width <span class="op">=</span> <span class="cn">FALSE</span>, position <span class="op">=</span> <span class="st">"center"</span>, font_size<span class="op">=</span><span class="fl">12</span><span class="op">)</span></code></pre></div>
<table class="table table">
<thead><tr>
<th style="text-align:left;">
all.edges
</th>
<th style="text-align:right;">
Freq
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;">
chariot_char-+-cheval
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
chariot_char-+-roue
</td>
<td style="text-align:right;">
4
</td>
</tr>
<tr>
<td style="text-align:left;">
bouclier-=-epee
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
bouclier-=-lance
</td>
<td style="text-align:right;">
3
</td>
</tr>
<tr>
<td style="text-align:left;">
bouclier-=-chariot_char
</td>
<td style="text-align:right;">
2
</td>
</tr>
<tr>
<td style="text-align:left;">
bouclier-=-fibule
</td>
<td style="text-align:right;">
2
</td>
</tr>
</tbody>
</table>
<div id="ed-type-norm" class="section level4">
<h4 class="hasAnchor">
<a href="#ed-type-norm" class="anchor"></a><strong><em>Normal</em> edges</strong>
</h4>
<p>Different <em>main</em> nodes considered to be contemporaneous and close to one another, may share an edge with the value <code><a href="https://rdrr.io/r/base/assignOps.html">=</a></code> for their <code>type</code>. By convention, these edges are called <em>normal</em> and displayed as a plain line. Its textual notation is <code>-=-</code>. The <em>normal</em> edges are undirected: <code>1-=-2</code> is equal to <code>2-=-1</code>, where node 1 and node 2 are two different <em>main</em> nodes.</p>
</div>
<div id="ed-type-attrib" class="section level4">
<h4 class="hasAnchor">
<a href="#ed-type-attrib" class="anchor"></a><strong><em>Attribute</em> edges</strong>
</h4>
<p>When a node is an attribute of another, edges are identified with a <code><a href="https://rdrr.io/r/base/Arithmetic.html">+</a></code> and displayed with a dashed line. For example, at the bottom of the Zarza de Montanchez stelae (decoration 4), the main node 7 (<code>chariot</code>) is connected with four (4) attribute nodes:</p>
<ul>
<li><p>two horses (<code>cheval</code>): 8 and 9</p></li>
<li><p>two wheels (<code>roue</code>): 10 and 11</p></li>
</ul>
<div class="sourceCode" id="cb17"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span> <span class="op">&lt;-</span> <span class="st">"Zarza de Montanchez"</span> 
<span class="va">decor</span> <span class="op">&lt;-</span> <span class="st">"Zarza De Montanchez"</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              ed.lwd <span class="op">=</span> <span class="fl">1</span>, ed.color <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="st">"darkorange"</span><span class="op">)</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/graph.attribute.plot.type-1.png" alt="Zarza De Montanchez stelae (decoration 4) showing *normal* and *attribute*  edges" width="60%"><p class="caption">
Zarza De Montanchez stelae (decoration 4) showing <em>normal</em> and <em>attribute</em> edges
</p>
</div>
<p>The textual notation of an <em>attribute</em> edge is <code>-+-</code>:</p>
<div class="sourceCode" id="cb18"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb18-1"><a href="#cb18-1" aria-hidden="true" tabindex="-1"></a><span class="fu">sort</span>(<span class="fu">named_elements</span>(lgrph[[<span class="dv">4</span>]], <span class="at">focus =</span> <span class="st">"edges"</span>, <span class="at">nd.var =</span> <span class="st">"type"</span>))</span>
<span id="cb18-2"><a href="#cb18-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">1</span>] <span class="st">"bouclier-=-chariot_char"</span>   <span class="st">"bouclier-=-lance"</span>         </span>
<span id="cb18-3"><a href="#cb18-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">3</span>] <span class="st">"bouclier-=-personnage"</span>     <span class="st">"casque-+-rivet"</span>           </span>
<span id="cb18-4"><a href="#cb18-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">5</span>] <span class="st">"casque-=-epee"</span>             <span class="st">"casque-=-miroir"</span>          </span>
<span id="cb18-5"><a href="#cb18-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">7</span>] <span class="st">"chariot_char-+-cheval"</span>     <span class="st">"chariot_char-+-cheval#"</span>   </span>
<span id="cb18-6"><a href="#cb18-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>  [<span class="dv">9</span>] <span class="st">"chariot_char-+-roue"</span>       <span class="st">"chariot_char-+-roue#"</span>     </span>
<span id="cb18-7"><a href="#cb18-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">11</span>] <span class="st">"chariot_char-=-personnage"</span> <span class="st">"epee-=-lance"</span>             </span>
<span id="cb18-8"><a href="#cb18-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">13</span>] <span class="st">"epee-=-miroir"</span>             <span class="st">"lance-=-personnage"</span></span></code></pre></div>
<p>The <em>attribute</em> edges are directed: <code>1-+-2</code> is not equal to <code>2-+-1</code>, <code>1-+-2</code> means that node 1 is the <em>main</em> node and node 2 is one of its <em>attribute</em> nodes.</p>
</div>
<div id="ed-type-over" class="section level4">
<h4 class="hasAnchor">
<a href="#ed-type-over" class="anchor"></a><strong><em>Diachronic</em> edges</strong>
</h4>
<p>When a node overlaps another or is more recent than another, edges are identified with a <code><a href="https://rdrr.io/r/base/Comparison.html">&gt;</a></code> and displayed with a blue plain line. For example, the Ibahernando stelae has a latin inscription (<code>ecriture</code>) overlapping a spear (<code>lance</code>) and a shield (<code>bouclier</code>).</p>
<div class="sourceCode" id="cb19"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span> <span class="op">&lt;-</span> <span class="st">"Ibahernando"</span>
<span class="va">decor</span> <span class="op">&lt;-</span> <span class="st">"Ibahernando"</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>          
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">'type'</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/graph.overlap.plot.type-1.png" alt="Ibahernando stelae (decoration 5) showing *diachronic* and *normal* edges" width="100%"><p class="caption">
Ibahernando stelae (decoration 5) showing <em>diachronic</em> and <em>normal</em> edges
</p>
</div>
<p>The textual notation of an <em>diachronic</em> edge is <code>-&gt;-</code>:</p>
<div class="sourceCode" id="cb20"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb20-1"><a href="#cb20-1" aria-hidden="true" tabindex="-1"></a><span class="fu">named_elements</span>(lgrph[[<span class="dv">5</span>]], <span class="at">focus =</span> <span class="st">"edges"</span>, <span class="at">nd.var =</span> <span class="st">"type"</span>)</span>
<span id="cb20-2"><a href="#cb20-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">1</span>] <span class="st">"ecriture-&gt;-lance"</span>    <span class="st">"ecriture-&gt;-bouclier"</span> <span class="st">"bouclier-=-lance"</span>   </span>
<span id="cb20-3"><a href="#cb20-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> [<span class="dv">4</span>] <span class="st">"bouclier-=-epee"</span></span></code></pre></div>
<p>The <em>diachronic</em> edges are directed: <code>1-&gt;-2</code> is not equal to <code>2-&gt;-1</code>. The <code>1-&gt;-2</code> edge means that node 1 overlaps node 2, or node 1 is more recent than node 2. These overlays, or diachronic iconographic layers, can be managed with the <code><a href="../reference/contemp_nds.html">contemp_nds()</a></code> function (see the section <a href="#contemp">Contemporaneous contents</a>)</p>
</div>
</div>
</div>
</div>
<div id="functions" class="section level1">
<h1 class="hasAnchor">
<a href="#functions" class="anchor"></a>Functions</h1>
<p>Decoration graphs are constructed from nodes and edges. Graphs are 1-component: each decoration graph covers all the GUs of the decoration. The functions of the <code>iconr</code> package provide basic tools to manage these <a href="#nd">node data</a> (<code>.csv</code>, <code>.tsv</code> or <code>.shp</code>) and <a href="#ed">edge data</a> (<code>.csv</code>, <code>.tsv</code> or <code>.shp</code>) to create graphs, to <a href="#plot">plot</a> and to <a href="#compare">compare</a> them, to select <a href="#contemp">contemporaneous GU compositions</a></p>
<div class="sourceCode" id="cb21"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb21-1"><a href="#cb21-1" aria-hidden="true" tabindex="-1"></a><span class="fu">cat</span>(<span class="fu">ls</span>(<span class="st">"package:iconr"</span>), <span class="at">sep=</span><span class="st">"</span><span class="sc">\n</span><span class="st">"</span>)</span>
<span id="cb21-2"><a href="#cb21-2" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> contemp_nds</span>
<span id="cb21-3"><a href="#cb21-3" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> eds_compar</span>
<span id="cb21-4"><a href="#cb21-4" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> labels_shadow</span>
<span id="cb21-5"><a href="#cb21-5" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> list_compar</span>
<span id="cb21-6"><a href="#cb21-6" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> list_dec</span>
<span id="cb21-7"><a href="#cb21-7" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> named_elements</span>
<span id="cb21-8"><a href="#cb21-8" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> nds_compar</span>
<span id="cb21-9"><a href="#cb21-9" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> plot_compar</span>
<span id="cb21-10"><a href="#cb21-10" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> plot_dec_grph</span>
<span id="cb21-11"><a href="#cb21-11" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> read_eds</span>
<span id="cb21-12"><a href="#cb21-12" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> read_nds</span>
<span id="cb21-13"><a href="#cb21-13" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> same_elements</span></code></pre></div>
<div id="read" class="section level2">
<h2 class="hasAnchor">
<a href="#read" class="anchor"></a>Read</h2>
<p>The functions <code><a href="../reference/read_nds.html">read_nds()</a></code> and <code><a href="../reference/read_eds.html">read_eds()</a></code> allow, respectively, to read a dataframe or a shapefile of nodes, and a dataframe or a shapefile of edges. For example, the nodes and edges of Cerro Muriano 1 can be read</p>
<div class="sourceCode" id="cb22"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span> <span class="op">&lt;-</span> <span class="st">"Cerro Muriano"</span>
<span class="va">decor</span> <span class="op">&lt;-</span> <span class="st">"Cerro Muriano 1"</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span></code></pre></div>
</div>
<div id="plot" class="section level2">
<h2 class="hasAnchor">
<a href="#plot" class="anchor"></a>Plot</h2>
<p>The graphical functions <code><a href="../reference/plot_dec_grph.html">plot_dec_grph()</a></code> and <code><a href="../reference/plot_compar.html">plot_compar()</a></code> allow, respectively, to plot one decoration or pairwise(s) of decorations. These function offer different choices for the color and size of the nodes, edges or labels. For example, for the Cerro Muriano 1 decoration, the field <code>id</code> (identifier of the node), used by default for the labels, can be changed to the <code>type</code> field</p>
<div class="sourceCode" id="cb23"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">'type'</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.55</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/img.graph.plot.type-1.png" alt="Cerro Muriano 1 stelae (decoration 1) with the type of each GU" width="60%"><p class="caption">
Cerro Muriano 1 stelae (decoration 1) with the type of each GU
</p>
</div>
<p>A new field, <code>long_cm</code>, is added to the Cerro Muriano 1 nodes and the graph is replotted using this field instead of the <code>type</code> field, with <span style="color:brown">brown</span> colors and larger labels.</p>
<div class="sourceCode" id="cb24"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">nds.df</span><span class="op">$</span><span class="va">long_cm</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">47</span>, <span class="fl">9</span>, <span class="fl">47</span>, <span class="fl">18</span>, <span class="fl">7</span>, <span class="fl">3</span>, <span class="fl">13</span><span class="op">)</span>, <span class="st">"cm"</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">'long_cm'</span>,
              nd.color <span class="op">=</span> <span class="st">"brown"</span>,
              lbl.color <span class="op">=</span> <span class="st">"brown"</span>, lbl.size <span class="op">=</span> <span class="fl">0.7</span>,
              ed.color <span class="op">=</span> <span class="st">"brown"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/img.graph.plot.id-1.png" alt="Cerro Muriano 1 stelae (decoration 1) with the maximum length (in cm) of each GU" width="60%"><p class="caption">
Cerro Muriano 1 stelae (decoration 1) with the maximum length (in cm) of each GU
</p>
</div>
</div>
<div id="compare" class="section level2">
<h2 class="hasAnchor">
<a href="#compare" class="anchor"></a>Compare</h2>
<p>Elements of the graphs (nodes and edges) can be compared across all graphs or between a pair of graphs with the <code><a href="../reference/same_elements.html">same_elements()</a></code> and <code><a href="../reference/plot_compar.html">plot_compar()</a></code> functions</p>
<ul>
<li><p><code><a href="../reference/same_elements.html">same_elements()</a></code> function permits one to count common elements between <em>n</em> graphs</p></li>
<li><p><code><a href="../reference/plot_compar.html">plot_compar()</a></code> function shows a graphical output for these common elements</p></li>
</ul>
<p>By default, in a pairwise comparison of decorations, common nodes and edges are displayed in <span style="color:red">red</span>, but their colors – and other graphical parameters – can be modified. When not all GUs are contemporaneous with one another, the non-contemporaneous ones can be removed with the <code><a href="../reference/contemp_nds.html">contemp_nds()</a></code> function.</p>
<div id="node-comparisons" class="section level3">
<h3 class="hasAnchor">
<a href="#node-comparisons" class="anchor"></a>Node comparisons</h3>
<p>A classic study in archaeological research is to count the common nodes between pairs of decorations. This can be done with the <code><a href="../reference/same_elements.html">same_elements()</a></code> function with a node focus (<code>focus = "nodes"</code>), and considering for example their <code>type</code> (by default).</p>
<div class="sourceCode" id="cb25"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">imgs_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/imgs.tsv"</span><span class="op">)</span>
<span class="va">nodes_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/nodes.tsv"</span><span class="op">)</span>
<span class="va">edges_path</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/paste.html">paste0</a></span><span class="op">(</span><span class="va">dataDir</span>, <span class="st">"/edges.tsv"</span><span class="op">)</span>
<span class="va">imgs</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">imgs_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">nodes_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/utils/read.table.html">read.table</a></span><span class="op">(</span><span class="va">edges_path</span>, sep<span class="op">=</span><span class="st">"\t"</span>, stringsAsFactors <span class="op">=</span> <span class="cn">FALSE</span><span class="op">)</span>
<span class="va">lgrph</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_dec.html">list_dec</a></span><span class="op">(</span><span class="va">imgs</span>, <span class="va">nodes</span>, <span class="va">edges</span><span class="op">)</span>
<span class="va">df.same_nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/same_elements.html">same_elements</a></span><span class="op">(</span><span class="va">lgrph</span>,
                               focus <span class="op">=</span> <span class="st">"nodes"</span>,
                               nd.var <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">df.same_nodes</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">cell_spec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">df.same_nodes</span><span class="op">)</span>,
                                 font_size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df.same_nodes</span>, row.names <span class="op">=</span> <span class="cn">TRUE</span>, escape <span class="op">=</span> <span class="cn">FALSE</span>, table.attr <span class="op">=</span> <span class="st">"style='width:30%;'"</span>,
             caption <span class="op">=</span> <span class="st">"Count of common nodes between decorations"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">column_spec</span><span class="op">(</span><span class="fl">1</span>, bold<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"center"</span>, font_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<table class="table table">
<caption style="font-size: initial !important;">
Count of common nodes between decorations
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
1
</th>
<th style="text-align:left;">
2
</th>
<th style="text-align:left;">
3
</th>
<th style="text-align:left;">
4
</th>
<th style="text-align:left;">
5
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
1
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">7</span>
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
2
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">12</span>
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
3
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
5
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">6</span>
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
4
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
9
</td>
<td style="text-align:left;">
4
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">12</span>
</td>
<td style="text-align:left;">
3
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
5
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">4</span>
</td>
</tr>
</tbody>
</table>
<p>The result of <code><a href="../reference/same_elements.html">same_elements()</a></code> is a symmetric matrix giving the number of common nodes for each pair of decorations, where the row and column names are the identifiers of the decorations. Observe that, accordingly, the diagonal elements show the total number of nodes of each decoration.</p>
<p>Regarding the node variable <code>type</code>, the decoration 4 has a total twelve (12) nodes (see the diagonal). Decoration 4 and decoration 2 have nine (9) common nodes. Decoration 4 and decoration 3 have four (4) common nodes. This matrix can be used for further <a href="#sum">clustering analysis</a></p>
<p>To compare graphically the decorations 2, 3 and 4 on the node variable <code>type</code>:</p>
<ul>
<li><p>first: <code>type</code> variable is pasted to the <code><a href="../reference/list_compar.html">list_compar()</a></code> function</p></li>
<li><p>then: the plot is made with the <code><a href="../reference/plot_compar.html">plot_compar()</a></code> function</p></li>
</ul>
<div class="sourceCode" id="cb26"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dec.to.compare</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">g.compar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_compar.html">list_compar</a></span><span class="op">(</span><span class="va">lgrph</span>, nd.var <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_compar.html">plot_compar</a></span><span class="op">(</span>listg <span class="op">=</span> <span class="va">g.compar</span>, 
            dec2comp <span class="op">=</span> <span class="va">dec.to.compare</span>,
            focus <span class="op">=</span> <span class="st">"nodes"</span>,
            nd.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.5</span><span class="op">)</span>,
            dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span> </code></pre></div>
<p><img src="index_files/figure-html/compare.2.nodes-1.png" width="100%" style="display: block; margin: auto;"><img src="index_files/figure-html/compare.2.nodes-2.png" width="100%" style="display: block; margin: auto;"><img src="index_files/figure-html/compare.2.nodes-3.png" width="100%" style="display: block; margin: auto;"></p>
<p>The function creates an image for each pair of stelae contained in the <code>dec.to.compare</code> variable (2, 3, 4), with a focus on nodes (<code>focus = "nodes"</code>). Thus, if <span class="math inline">\(n\)</span> decorations are compared, it results in <span class="math inline">\(n\choose 2\)</span> <span class="math inline">\(\frac{n!}{(n-2)!2!}\)</span> pairwise comparison images. For instance, if all 5 decorations in the example dataset are compared, there will be 10 pairwise comparisons.</p>
</div>
<div id="edge-comparisons" class="section level3">
<h3 class="hasAnchor">
<a href="#edge-comparisons" class="anchor"></a>Edge comparisons</h3>
<p>A less-common study in archaeological research is to count the common edges between pairs of decorations. The <code><a href="../reference/same_elements.html">same_elements()</a></code> function with an edge focus (<code>focus = "edges"</code>) and considering the <code>type</code> of the nodes</p>
<div class="sourceCode" id="cb27"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">df.same_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/same_elements.html">same_elements</a></span><span class="op">(</span><span class="va">lgrph</span>, nd.var <span class="op">=</span> <span class="st">"type"</span>, focus <span class="op">=</span> <span class="st">"edges"</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">df.same_edges</span><span class="op">)</span> <span class="op">&lt;-</span> <span class="fu">cell_spec</span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/diag.html">diag</a></span><span class="op">(</span><span class="va">df.same_edges</span><span class="op">)</span>,
                                 font_size <span class="op">=</span> <span class="fl">9</span><span class="op">)</span>
<span class="fu">knitr</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/knitr/man/kable.html">kable</a></span><span class="op">(</span><span class="va">df.same_edges</span>, row.names <span class="op">=</span> <span class="cn">TRUE</span>, escape <span class="op">=</span> <span class="cn">F</span>, table.attr <span class="op">=</span> <span class="st">"style='width:30%;'"</span>,
             caption <span class="op">=</span> <span class="st">"Count of common edges between decorations"</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">column_spec</span><span class="op">(</span><span class="fl">1</span>, bold<span class="op">=</span><span class="cn">TRUE</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu">kableExtra</span><span class="fu">::</span><span class="fu"><a href="https://rdrr.io/pkg/kableExtra/man/kable_styling.html">kable_styling</a></span><span class="op">(</span>position <span class="op">=</span> <span class="st">"center"</span>, font_size <span class="op">=</span> <span class="fl">12</span><span class="op">)</span></code></pre></div>
<table class="table table">
<caption style="font-size: initial !important;">
Count of common edges between decorations
</caption>
<thead><tr>
<th style="text-align:left;">
</th>
<th style="text-align:left;">
1
</th>
<th style="text-align:left;">
2
</th>
<th style="text-align:left;">
3
</th>
<th style="text-align:left;">
4
</th>
<th style="text-align:left;">
5
</th>
</tr></thead>
<tbody>
<tr>
<td style="text-align:left;font-weight: bold;">
1
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">8</span>
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
0
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
2
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">15</span>
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
3
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
3
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">10</span>
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
4
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
7
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">14</span>
</td>
<td style="text-align:left;">
1
</td>
</tr>
<tr>
<td style="text-align:left;font-weight: bold;">
5
</td>
<td style="text-align:left;">
0
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
2
</td>
<td style="text-align:left;">
1
</td>
<td style="text-align:left;">
<span style="     font-size: 9px;">4</span>
</td>
</tr>
</tbody>
</table>
<p>In this dataframe:</p>
<ul>
<li><p>cells show the total number of common edges by decoration</p></li>
<li><p>the diagonal of the dataframe shows is the total number of edges of a given decoration</p></li>
</ul>
<p>Here, the decoration 2 has fifteen (15) edges and shares three (3) common edges with the decoration 3. To show them, and the decoration 4, we use the <code><a href="../reference/list_compar.html">list_compar()</a></code> function on the same variable (<code>type</code>) and the <code><a href="../reference/plot_compar.html">plot_compar()</a></code> function with an edge focus (<code>focus = "edges"</code>).</p>
<p>This matrix can be used for further <a href="#sum">clustering analysis</a></p>
<div class="sourceCode" id="cb28"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dec.to.compare</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">2</span>, <span class="fl">3</span>, <span class="fl">4</span><span class="op">)</span>
<span class="va">g.compar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_compar.html">list_compar</a></span><span class="op">(</span><span class="va">lgrph</span>, nd.var <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_compar.html">plot_compar</a></span><span class="op">(</span>listg <span class="op">=</span> <span class="va">g.compar</span>, 
            dec2comp <span class="op">=</span> <span class="va">dec.to.compare</span>,
            focus <span class="op">=</span> <span class="st">"edges"</span>,
            nd.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.7</span><span class="op">)</span>,
            dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/compare.2.edges-1.png" width="100%" style="display: block; margin: auto;"><img src="index_files/figure-html/compare.2.edges-2.png" width="100%" style="display: block; margin: auto;"><img src="index_files/figure-html/compare.2.edges-3.png" width="100%" style="display: block; margin: auto;"></p>
</div>
</div>
<div id="contemp" class="section level2">
<h2 class="hasAnchor">
<a href="#contemp" class="anchor"></a>Contemporaneous elements</h2>
<p>At times some nodes are non-contemporaneous with one another, like on the Ibahernando stelae. This stelae was reused as a funerary stelae during Roman times with the addition of a Latin inscription “<em>Alloquiu protaeidi.f hece. stitus</em>”: Alluquio, son of Protacido, lies here <span class="citation">(Basch 1966)</span>.</p>
<center>
<div class="figure">
<img src="../../../../My%20PC%20(supernova-pc)/Documents/iconr/vignettes/img/ibahernando_256colours.png" width="400" alt=""><p class="caption">GIS view. The Ibahernando stelae (decoration 5)</p>
</div>
</center>
<p>The writing (<code>ecriture</code>, node 1) has been carved over a spear (<code>lance</code>, node 2) and overlaps partially a V-notched shield (<code>bouclier</code>, node 3). The edges between node 1 and node 2, and the edge between node 1 and node 3, are <em>diachronic</em> edges</p>
<div class="sourceCode" id="cb29"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span> <span class="op">&lt;-</span> <span class="st">"Ibahernando"</span> 
<span class="va">decor</span> <span class="op">&lt;-</span> <span class="st">"Ibahernando"</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.7</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/ibahernando-1.png" alt="Ibahernando stelae (decoration 5) with *diachronic* and *normal* edges, node 1 overlaps node 2 and node 3" width="60%"><p class="caption">
Ibahernando stelae (decoration 5) with <em>diachronic</em> and <em>normal</em> edges, node 1 overlaps node 2 and node 3
</p>
</div>
<p>In this case, the non-contemporaneous layers of decoration, both nodes and edges, should be removed before the comparison process. To that purpose, the original graph (1-component) can be split into different contemporaneous sub-graphs. By removing the <a href="#ed.type.over"><em>diachronic</em> edges</a> (<code>-&gt;-</code>), the graph is split into connected components, each including the synchronic nodes of a different period. The studied graph component will be retrieved with the component membership of a selected node.</p>
<p>To study only the Late Bronze Age iconographic layer of the Ibahernando stelae, we can choose the Late Bronze Age node 4, the image of a sword (<code>epee</code>) dated to the middle and final stages of Late Bronze Age (ca 1250-950 BC). This node is believed to be contemporaneous with the spear (<code>lance</code>, node 2) and the shield (<code>bouclier</code>, node 3) so these three nodes are linked with <a href="#ed.type.norm"><em>normal</em> edges</a> (<code>-=-</code>). We pass the node 4 to the parameters of the <code><a href="../reference/contemp_nds.html">contemp_nds()</a></code> function:</p>
<div class="sourceCode" id="cb30"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">site</span> <span class="op">&lt;-</span> <span class="va">decor</span> <span class="op">&lt;-</span> <span class="st">"Ibahernando"</span>
<span class="va">selected.nd</span> <span class="op">&lt;-</span> <span class="fl">4</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span><span class="op">)</span>
<span class="va">l_dec_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contemp_nds.html">contemp_nds</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">selected.nd</span><span class="op">)</span>
<span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">"type"</span>,
              lbl.color <span class="op">=</span> <span class="st">"brown"</span>, lbl.size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">l_dec_df</span><span class="op">$</span><span class="va">nodes</span>, <span class="va">l_dec_df</span><span class="op">$</span><span class="va">edges</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">"type"</span>,
              lbl.color <span class="op">=</span> <span class="st">"brown"</span>, lbl.size <span class="op">=</span> <span class="fl">0.6</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/rm.writing-1.png" alt="Ibahernando stelae before and after the selection of node 4 (sword) graph component" width="100%"><p class="caption">
Ibahernando stelae before and after the selection of node 4 (sword) graph component
</p>
</div>
<p>On the other hand, epigraphists will only want to study the iconographic layer with the Latin writing. By selecting node 1 (<code>ecriture</code>), only the graph component of this node will be retained:</p>
<div class="sourceCode" id="cb31"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">selected.nd</span> <span class="op">&lt;-</span> <span class="fl">1</span>
<span class="va">nds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_nds.html">read_nds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span>
<span class="va">eds.df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/read_eds.html">read_eds</a></span><span class="op">(</span><span class="va">site</span>, <span class="va">decor</span>, dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span>
<span class="va">l_dec_df</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/contemp_nds.html">contemp_nds</a></span><span class="op">(</span><span class="va">nds.df</span>, <span class="va">eds.df</span>, <span class="va">selected.nd</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_dec_grph.html">plot_dec_grph</a></span><span class="op">(</span><span class="va">l_dec_df</span><span class="op">$</span><span class="va">nodes</span>, <span class="va">l_dec_df</span><span class="op">$</span><span class="va">edges</span>, <span class="va">imgs</span>,
              <span class="va">site</span>, <span class="va">decor</span>, dir <span class="op">=</span> <span class="va">dataDir</span>,
              nd.var <span class="op">=</span> <span class="st">"type"</span>,
              lbl.size <span class="op">=</span> <span class="fl">0.6</span>, lbl.color <span class="op">=</span> <span class="st">"brown"</span><span class="op">)</span></code></pre></div>
<div class="figure" style="text-align: center">
<img src="index_files/figure-html/ibahernando.lat-1.png" alt="Ibahernando stelae after the selection of node 1 (writing) graph component" width="60%"><p class="caption">
Ibahernando stelae after the selection of node 1 (writing) graph component
</p>
</div>
</div>
</div>
<div id="sum" class="section level1">
<h1 class="hasAnchor">
<a href="#sum" class="anchor"></a>Classify decorations</h1>
<p>Besides graphical functions allowing one to highlight common elements (nodes and edges) between decorations, the package also allows one to prepare data for unsupervised classification, such as hierarchical clustering with the <code><a href="https://rdrr.io/r/stats/dist.html">dist()</a></code> and <code><a href="https://rdrr.io/r/stats/hclust.html">hclust()</a></code>:</p>
<div class="sourceCode" id="cb32"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>           
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="va">df.same_edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/same_elements.html">same_elements</a></span><span class="op">(</span><span class="va">lgrph</span>, <span class="st">"type"</span>, <span class="st">"edges"</span><span class="op">)</span>
<span class="va">df.same_nodes</span><span class="op">&lt;-</span> <span class="fu"><a href="../reference/same_elements.html">same_elements</a></span><span class="op">(</span><span class="va">lgrph</span>, <span class="st">"type"</span>, <span class="st">"nodes"</span><span class="op">)</span>
<span class="va">dist.nodes</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">df.same_nodes</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"euclidean"</span><span class="op">)</span>
<span class="va">dist.edges</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dist.html">dist</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/base/matrix.html">as.matrix</a></span><span class="op">(</span><span class="va">df.same_edges</span><span class="op">)</span>, method <span class="op">=</span> <span class="st">"euclidean"</span><span class="op">)</span>
<span class="va">hc.nds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html">hclust</a></span><span class="op">(</span><span class="va">dist.nodes</span>, method <span class="op">=</span> <span class="st">"ward.D"</span><span class="op">)</span>
<span class="va">hc.eds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/hclust.html">hclust</a></span><span class="op">(</span><span class="va">dist.edges</span>, method <span class="op">=</span> <span class="st">"ward.D"</span><span class="op">)</span> 
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hc.nds</span>, main <span class="op">=</span> <span class="st">"Common nodes"</span>, cex <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">hc.eds</span>, main <span class="op">=</span> <span class="st">"Common edges"</span>, cex <span class="op">=</span> <span class="fl">.8</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/clust.comp-1.png" width="672" style="display: block; margin: auto;"></p>
<p>Clustering of decorations on common nodes and clustering on common edges can be directly compared to one another:</p>
<div class="sourceCode" id="cb33"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="http://talgalili.github.io/dendextend/">dendextend</a></span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/message.html">suppressPackageStartupMessages</a></span><span class="op">(</span><span class="kw"><a href="https://rdrr.io/r/base/library.html">library</a></span><span class="op">(</span><span class="va"><a href="https://dplyr.tidyverse.org">dplyr</a></span><span class="op">)</span><span class="op">)</span>
<span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>   
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>           
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mfrow<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">1</span>, <span class="fl">2</span><span class="op">)</span><span class="op">)</span>
<span class="va">dend.nds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dendrogram.html">as.dendrogram</a></span><span class="op">(</span><span class="va">hc.nds</span><span class="op">)</span>
<span class="va">dend.eds</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/stats/dendrogram.html">as.dendrogram</a></span><span class="op">(</span><span class="va">hc.eds</span><span class="op">)</span>
<span class="fu"><a href="http://talgalili.github.io/dendextend/reference/dendlist.html">dendlist</a></span><span class="op">(</span><span class="va">dend.nds</span>, <span class="va">dend.eds</span><span class="op">)</span> <span class="op">%&gt;%</span>
  <span class="fu"><a href="http://talgalili.github.io/dendextend/reference/untangle.html">untangle</a></span><span class="op">(</span>method <span class="op">=</span> <span class="st">"step1side"</span><span class="op">)</span> <span class="op">%&gt;%</span> 
  <span class="fu"><a href="http://talgalili.github.io/dendextend/reference/tanglegram.html">tanglegram</a></span><span class="op">(</span>columns_width <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">6</span>, <span class="fl">1</span>, <span class="fl">6</span><span class="op">)</span>,
             main_left <span class="op">=</span> <span class="st">"Common nodes"</span>,
             main_right <span class="op">=</span> <span class="st">"Common edges"</span>,
             lab.cex <span class="op">=</span> <span class="fl">1.3</span>,
             cex_main <span class="op">=</span> <span class="fl">1.5</span>,
             highlight_branches_lwd <span class="op">=</span> <span class="cn">F</span><span class="op">)</span> </code></pre></div>
<p><img src="index_files/figure-html/hclust.compar-1.png" width="672" style="display: block; margin: auto;"></p>
<p>In both clusterings, the Brozas stelae (decoration 3) and the Ibahernando stelae (decoration 5) are the ones having the most important proximities (ie, the least Euclidian distance). The ‘Common edges’ clustering is more accurate than the ‘Common nodes’ clustering because the former takes into account the common combination, or common permutation, of two nodes with the type of their edge, while the latter only takes into account the presence of common nodes.</p>
<div class="sourceCode" id="cb34"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">dec.to.compare</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">3</span>, <span class="fl">5</span><span class="op">)</span>
<span class="va">g.compar</span> <span class="op">&lt;-</span> <span class="fu"><a href="../reference/list_compar.html">list_compar</a></span><span class="op">(</span><span class="va">lgrph</span>, nd.var <span class="op">=</span> <span class="st">"type"</span><span class="op">)</span>
<span class="fu"><a href="../reference/plot_compar.html">plot_compar</a></span><span class="op">(</span>listg <span class="op">=</span> <span class="va">g.compar</span>, 
            dec2comp <span class="op">=</span> <span class="va">dec.to.compare</span>,
            focus <span class="op">=</span> <span class="st">"nodes"</span>,
            nd.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.7</span><span class="op">)</span>,
            dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/compare.c.edges-1.png" width="100%" style="display: block; margin: auto;"></p>
<div class="sourceCode" id="cb35"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="fu"><a href="../reference/plot_compar.html">plot_compar</a></span><span class="op">(</span>listg <span class="op">=</span> <span class="va">g.compar</span>, 
            dec2comp <span class="op">=</span> <span class="va">dec.to.compare</span>,
            focus <span class="op">=</span> <span class="st">"edges"</span>,
            nd.size <span class="op">=</span> <span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0.5</span>, <span class="fl">1.7</span><span class="op">)</span>,
            dir <span class="op">=</span> <span class="va">dataDir</span><span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/compare.c.edges-2.png" width="100%" style="display: block; margin: auto;"></p>
<p>Here, the comparisons have been made on the basis of different types (ie, graphical units, GUs) with the variable <code>type</code> (<code>nd.var = "type"</code>). However, if a new column is added to the node dataframe or shapefile, the study can also incorporate the technique by which the GU was created (<code>nd.var = "technique"</code>) or any other categorical variable. For example, two GUs on the Brozas steale were made with incisions (<code>g_inc</code>): the fibula (<em>fibula de codo tipo Huelva</em>, ca 1050-950 BC) and the comb.</p>
<center>
<div class="figure">
<img src="../../../../My%20PC%20(supernova-pc)/Documents/iconr/vignettes/img/brozas_256colours.png" width="400" alt=""><p class="caption">GIS view. The Brozas stelae (decoration 1) with the different engraving techniques: <code>g_piq</code> (peckings) and <code>g_inc</code> (incisions)</p>
</div>
</center>
</div>
<div id="next-developments" class="section level1">
<h1 class="hasAnchor">
<a href="#next-developments" class="anchor"></a>Next developments</h1>
<p>Graph theory allows one to construct tree structures for categorical variables (eg. the different types of GUs). These structures allow generalization processes (upward to the parent level) and specification processes (downward to the child level). For example, a <code>sword</code> and a <code>spear</code> belong both to the <code>weapons</code> group (sub-group <code>offensive weapons</code>), a <code>shield</code> belongs to the <code>weapons</code> group (sub-group <code>defensive weapons</code>), etc.:</p>
<div class="sourceCode" id="cb36"><pre class="downlit sourceCode r">
<code class="sourceCode R"><span class="va">oldpar</span> <span class="op">&lt;-</span> <span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>no.readonly <span class="op">=</span> <span class="cn">TRUE</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/base/on.exit.html">on.exit</a></span><span class="op">(</span><span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span><span class="va">oldpar</span><span class="op">)</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/par.html">par</a></span><span class="op">(</span>mar<span class="op">=</span><span class="fu"><a href="https://rdrr.io/r/base/c.html">c</a></span><span class="op">(</span><span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span>, <span class="fl">0</span><span class="op">)</span><span class="op">)</span>
<span class="va">g</span> <span class="op">&lt;-</span> <span class="fu">graph_from_literal</span><span class="op">(</span><span class="va">objects</span><span class="op">-</span><span class="op">+</span><span class="va">weapons</span>,
                        <span class="va">objects</span><span class="op">-</span><span class="op">+</span><span class="va">personnal_item</span>,
                        <span class="va">weapons</span><span class="op">-</span><span class="op">+</span><span class="va">offensive_weapons</span>,
                        <span class="va">weapons</span><span class="op">-</span><span class="op">+</span><span class="va">defensive_weapons</span>,
                        <span class="va">offensive_weapons</span><span class="op">-</span><span class="op">+</span><span class="va">spear</span>,
                        <span class="va">offensive_weapons</span><span class="op">-</span><span class="op">+</span><span class="va">sword</span>,
                        <span class="va">defensive_weapons</span><span class="op">-</span><span class="op">+</span><span class="va">shield</span>,
                        <span class="va">defensive_weapons</span><span class="op">-</span><span class="op">+</span><span class="va">helmet</span>,
                        <span class="va">personnal_item</span><span class="op">-</span><span class="op">+</span><span class="va">miror</span>,
                        <span class="va">personnal_item</span><span class="op">-</span><span class="op">+</span><span class="va">comb</span><span class="op">)</span>
<span class="va">layout</span> <span class="op">&lt;-</span> <span class="fu">layout.reingold.tilford</span><span class="op">(</span><span class="va">g</span><span class="op">)</span>
<span class="fu"><a href="https://rdrr.io/r/graphics/plot.default.html">plot</a></span><span class="op">(</span><span class="va">g</span>,
     layout <span class="op">=</span> <span class="va">layout</span>,
     vertex.color <span class="op">=</span> <span class="st">"white"</span>,
     vertex.frame.color <span class="op">=</span> <span class="st">"white"</span>,
     vertex.size <span class="op">=</span> <span class="fl">20</span>,
     vertex.label.cex <span class="op">=</span> <span class="fl">0.7</span>,
     vertex.label.color <span class="op">=</span> <span class="st">"black"</span>,
     vertex.label.family <span class="op">=</span> <span class="st">"sans"</span>,
     edge.arrow.size <span class="op">=</span> <span class="fl">0.5</span>
     <span class="op">)</span></code></pre></div>
<p><img src="index_files/figure-html/hierac-1.png" width="672"></p>
<p>Such a formalism can be used to weight the differences between nodes, to conduct analysis with different levels of precision or to overcome issues of idiosyncratic typologies.</p>
<p>Using the <em>diachronic</em> edge notation, tree structure can also be used to construct relative chronology diagrams, similar to a Harris matrix. For example, with the <code>data.tree</code> package and the Ibahernando stelae (decoration 5):</p>
<div class="sourceCode" id="cb37"><pre class="sourceCode r"><code class="sourceCode r"><span id="cb37-1"><a href="#cb37-1" aria-hidden="true" tabindex="-1"></a><span class="fu">library</span>(data.tree)</span>
<span id="cb37-2"><a href="#cb37-2" aria-hidden="true" tabindex="-1"></a>lgrph <span class="ot">&lt;-</span> <span class="fu">list_dec</span>(imgs, nodes, edges)</span>
<span id="cb37-3"><a href="#cb37-3" aria-hidden="true" tabindex="-1"></a>edges.iba <span class="ot">&lt;-</span> igraph<span class="sc">::</span><span class="fu">as_data_frame</span>(lgrph[[<span class="dv">5</span>]], <span class="at">what=</span><span class="st">"edges"</span>)</span>
<span id="cb37-4"><a href="#cb37-4" aria-hidden="true" tabindex="-1"></a>overlap.nodes <span class="ot">&lt;-</span> <span class="fu">unique</span>(edges.iba[edges.iba<span class="sc">$</span>type <span class="sc">==</span> <span class="st">"&gt;"</span>, <span class="st">"from"</span>])</span>
<span id="cb37-5"><a href="#cb37-5" aria-hidden="true" tabindex="-1"></a>contemp.nodes <span class="ot">&lt;-</span> <span class="fu">unique</span>(<span class="fu">unlist</span>(edges.iba[edges.iba<span class="sc">$</span>type <span class="sc">==</span> <span class="st">"="</span>, <span class="fu">c</span>(<span class="st">"from"</span>, <span class="st">"to"</span>)]))</span>
<span id="cb37-6"><a href="#cb37-6" aria-hidden="true" tabindex="-1"></a>df.stratig <span class="ot">&lt;-</span> <span class="fu">data.frame</span>(<span class="at">over =</span> <span class="fu">rep</span>(overlap.nodes, <span class="fu">length</span>(contemp.nodes)),</span>
<span id="cb37-7"><a href="#cb37-7" aria-hidden="true" tabindex="-1"></a>                         <span class="at">under =</span> contemp.nodes)</span>
<span id="cb37-8"><a href="#cb37-8" aria-hidden="true" tabindex="-1"></a>df.stratig<span class="sc">$</span>pathString <span class="ot">&lt;-</span> <span class="fu">paste</span>(lgrph[[<span class="dv">5</span>]]<span class="sc">$</span>decor,</span>
<span id="cb37-9"><a href="#cb37-9" aria-hidden="true" tabindex="-1"></a>                               df.stratig<span class="sc">$</span>over, </span>
<span id="cb37-10"><a href="#cb37-10" aria-hidden="true" tabindex="-1"></a>                               df.stratig<span class="sc">$</span>under, </span>
<span id="cb37-11"><a href="#cb37-11" aria-hidden="true" tabindex="-1"></a>                               <span class="at">sep =</span> <span class="st">"/"</span>)</span>
<span id="cb37-12"><a href="#cb37-12" aria-hidden="true" tabindex="-1"></a>superpo <span class="ot">&lt;-</span> <span class="fu">as.Node</span>(df.stratig)</span>
<span id="cb37-13"><a href="#cb37-13" aria-hidden="true" tabindex="-1"></a><span class="fu">print</span>(superpo)</span>
<span id="cb37-14"><a href="#cb37-14" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span>     levelName</span>
<span id="cb37-15"><a href="#cb37-15" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">1</span> Ibahernando</span>
<span id="cb37-16"><a href="#cb37-16" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">2</span>  °<span class="sc">--</span><span class="dv">1</span>      </span>
<span id="cb37-17"><a href="#cb37-17" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">3</span>      ¦<span class="sc">--</span><span class="dv">2</span>  </span>
<span id="cb37-18"><a href="#cb37-18" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">4</span>      ¦<span class="sc">--</span><span class="dv">3</span>  </span>
<span id="cb37-19"><a href="#cb37-19" aria-hidden="true" tabindex="-1"></a><span class="sc">&gt;</span> <span class="dv">5</span>      °<span class="sc">--</span><span class="dv">4</span></span></code></pre></div>
</div>
<div id="references" class="section level1 unnumbered">
<h1 class="hasAnchor">
<a href="#references" class="anchor"></a>References</h1>
<div id="refs" class="references csl-bib-body hanging-indent">
<div id="ref-Alexander08" class="csl-entry">
Alexander, Craig. 2008. <span>“The Bedolina Map – an Exploratory Network Analysis.”</span> In <em>Layers of Perception. Proceedings of the 35th International Conference on Computer Applications and Quantitative Methods in Archaeology (CAA), Berlin, 2.-6. April 2007</em>, edited by A. Posluschny, K. Lambers, and I. Herzog, 366–71. Koll. Vor- u. Frühgesch. <a href="https://doi.org/10.11588/propylaeumdok.00000512">https://doi.org/10.11588/propylaeumdok.00000512</a>.
</div>
<div id="ref-Almagro66b" class="csl-entry">
Basch, Martı́n Almagro. 1966. <em>Las Estelas Decoradas Del Suroeste Peninsular</em>. Vol. 8. Editorial CSIC-CSIC Press.
</div>
<div id="ref-DiazGuardamino10" class="csl-entry">
Dı́az-Guardamino Uribe, Marta. 2010. <span>“Las Estelas Decoradas En La Prehistoria de La Pen<span>ı́</span>nsula Ib<span>é</span>rica.”</span> PhD thesis, Universidad Complutense de Madrid, Servicio de Publicaciones. <a href="https://eprints.ucm.es/11070/1/T32200.pdf">https://eprints.ucm.es/11070/1/T32200.pdf</a>.
</div>
<div id="ref-Huet18a" class="csl-entry">
Huet, Thomas. 2018. <span>“Geometric Graphs to Study Ceramic Decoration.”</span> In <em>Exploring Oceans of Data, Proceedings of the 44th Conference on Computer Applications and Quantitative Methods in Archaeology, CAA 2016</em>, edited by Mieko Matsumoto and Espen Uleberg, 311–24. Archaeopress. <a href="https://hal.archives-ouvertes.fr/hal-02913656">https://hal.archives-ouvertes.fr/hal-02913656</a>.
</div>
<div id="ref-HuetAlexander15" class="csl-entry">
Huet, Thomas, and Craig Alexander. 2015. <span>“Méthodes Informatiques Pour l’étude Des Gravures Rupestres : Les Exemples Du Valcamonica (Italie) Et Du Mont Bego (France).”</span> In <em>Recherches Sur l’âge Du Bronze, Nouvelles Approches Et Perspectives, Actes de La Journée d’étude de l’association Pour La Promotion Des Recherches Archéologiques Sur l’âge Du Bronze, 28 février 2014, Saint-Germain-En-Laye, Bulletin de l’APRAB, Suppl. N° 1</em>, edited by M. Nordez, L. Rousseau, and M. Cervel, 15–29. Nantes. <a href="https://hal.archives-ouvertes.fr/hal-03080205">https://hal.archives-ouvertes.fr/hal-03080205</a>.
</div>
</div>
</div>
  </div>

  <div class="col-md-3 hidden-xs hidden-sm" id="pkgdown-sidebar">

        <nav id="toc" data-toggle="toc"><h2 data-toc-skip>Contents</h2>
    </nav>
</div>

</div>



      <footer><div class="copyright">
  <p>Developed by Thomas Huet, Jose Pozo.</p>
</div>

<div class="pkgdown">
  <p>Site built with <a href="https://pkgdown.r-lib.org/">pkgdown</a> 1.6.1.</p>
</div>

      </footer>
</div>

  


  </body>
</html>
